<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../img/favicon.ico">

    
    <title>SOs y Red - SudoHeroes</title>
    

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css">
    <link href='//rsms.me/inter/inter.css' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../css/base.min.css" rel="stylesheet">
    <link href="../css/cinder.min.css" rel="stylesheet">

    
        
        <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/styles/github.min.css">
        
    

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]-->

    

     
</head>

<body>

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->

            
              <a class="navbar-brand" href="..">SudoHeroes</a>
            
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="..">Inicio</a>
                    </li>
                
                
                
                    <li class="active">
                        <a href="./">SOs y Red</a>
                    </li>
                
                
                
                    <li >
                        <a href="../dns/">DNS</a>
                    </li>
                
                
                
                    <li >
                        <a href="../http/">HTTP</a>
                    </li>
                
                
                
                    <li >
                        <a href="../appweb/">Apps Web</a>
                    </li>
                
                
                
                    <li >
                        <a href="../mail/">Mail</a>
                    </li>
                
                
                
                    <li >
                        <a href="../doc/">Doc</a>
                    </li>
                
                
                </ul>

            <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                            <i class="fas fa-search"></i> Search
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="..">
                            <i class="fas fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="next" href="../dns/">
                            Next <i class="fas fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

    <div class="container">
        
        
        <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="first-level active"><a href="#sistemas-operativos-y-configuracion-de-red">Sistemas Operativos y Configuración de Red</a></li>
            <li class="second-level"><a href="#diagrama-de-red">Diagrama de Red</a></li>
                
            <li class="second-level"><a href="#infraestructura-en-aws">Infraestructura en AWS</a></li>
                
            <li class="second-level"><a href="#servidores-y-funcionalidad">Servidores y Funcionalidad</a></li>
                
                <li class="third-level"><a href="#subred-publica">Subred Pública</a></li>
                <li class="third-level"><a href="#subred-privada">Subred Privada</a></li>
            <li class="second-level"><a href="#configuracion-de-red">Configuración de Red</a></li>
                
        <li class="first-level "><a href="#creacion-de-la-vpc-y-subredes-en-aws">Creación de la VPC y Subredes en AWS</a></li>
            <li class="second-level"><a href="#1-creacion-de-la-vpc">1. Creación de la VPC</a></li>
                
            <li class="second-level"><a href="#2-creacion-de-subredes">2. Creación de Subredes</a></li>
                
                <li class="third-level"><a href="#subred-publica_1">Subred Pública</a></li>
                <li class="third-level"><a href="#subred-privada_1">Subred Privada</a></li>
            <li class="second-level"><a href="#3-configuracion-del-internet-gateway">3. Configuración del Internet Gateway</a></li>
                
            <li class="second-level"><a href="#4-configuracion-de-las-tablas-de-rutas">4. Configuración de las Tablas de Rutas</a></li>
                
                <li class="third-level"><a href="#tabla-de-rutas-de-la-subred-publica">Tabla de rutas de la subred pública</a></li>
                <li class="third-level"><a href="#tabla-de-rutas-de-la-subred-privada">Tabla de rutas de la subred privada</a></li>
        <li class="first-level "><a href="#creacion-de-instancias-en-las-subredes-de-aws">Creación de Instancias en las Subredes de AWS</a></li>
            <li class="second-level"><a href="#1-creacion-de-la-instancia-fedora-servidor-dns-primario-en-la-subred-publica">1. Creación de la Instancia Fedora (Servidor DNS Primario) en la Subred Pública</a></li>
                
            <li class="second-level"><a href="#2-creacion-de-la-instancia-ubuntu-servidor-web-y-correo-en-la-subred-publica">2. Creación de la Instancia Ubuntu (Servidor Web y Correo) en la Subred Pública</a></li>
                
            <li class="second-level"><a href="#3-creacion-de-la-instancia-fedora-servidor-de-aplicaciones-y-formacion-en-la-subred-privada">3. Creación de la Instancia Fedora (Servidor de Aplicaciones y Formación) en la Subred Privada</a></li>
                
            <li class="second-level"><a href="#4-creacion-de-la-instancia-windows-server-2025-cliente-en-la-subred-publica">4. Creación de la Instancia Windows Server 2025 (Cliente) en la Subred Pública</a></li>
                
            <li class="second-level"><a href="#5-grupos-de-seguridad">5. Grupos de seguridad</a></li>
                
    </ul>
</div></div>
        <div class="col-md-9" role="main">

<h2 id="sistemas-operativos-y-configuracion-de-red">Sistemas Operativos y Configuración de Red</h2>
<h3 id="diagrama-de-red">Diagrama de Red</h3>
<p>A continuación, se presenta el diagrama de la infraestructura de red diseñada:</p>
<p><img alt="img/red/diagrama.png" src="../img/red/diagrama.png" /></p>
<h3 id="infraestructura-en-aws">Infraestructura en AWS</h3>
<p>Nuestra infraestructura está alojada en la nube de AWS dentro de una VPC, la cual está dividida en dos subredes:</p>
<ul>
<li><strong>Subred Pública (10.0.0.0/24)</strong>: Contiene los servidores accesibles desde internet.</li>
<li><strong>Subred Privada (10.0.1.0/24)</strong>: Contiene servidores internos sin acceso directo a internet.</li>
</ul>
<p>AWS proporciona los servicios necesarios para la gestión del tráfico entre subredes y hacia el exterior, por lo que no es necesario contar con una máquina dedicada como router. En su lugar, se utilizan las herramientas nativas de AWS, como las tablas de rutas y las gateways de internet y NAT. Además, AWS proporciona un acceso seguro a las máquinas mediante SSH, RDP y SFTP, utilizando claves para garantizar la autenticación y la integridad de las conexiones remotas.</p>
<h3 id="servidores-y-funcionalidad">Servidores y Funcionalidad</h3>
<h4 id="subred-publica"><strong>Subred Pública</strong></h4>
<ul>
<li><strong>Servidor DNS Primario (Fedora)</strong>: Encargado exclusivamente del servicio de resolución de nombres mediante BIND.</li>
<li>
<p><strong>IP privada:</strong> <code>10.0.0.138</code></p>
</li>
<li>
<p><strong>Servidor Web, Correo y DNS Secundario (Ubuntu 24.04)</strong>:</p>
</li>
<li>Funciona como respaldo del servidor DNS primario.</li>
<li>Aloja un servidor web Nginx con la web principal y la web del departamento de ventas.</li>
<li>Implementa un servidor de correo basado en Postfix y Dovecot.</li>
<li>Ejecuta MkDocs para la gestión y publicación de documentación en GitHub Pages.</li>
<li>
<p><strong>IP privada:</strong> <code>10.0.0.89</code></p>
</li>
<li>
<p><strong>Cliente Windows Server 2025</strong>:</p>
</li>
<li>Se utiliza para visualizar y probar todas las aplicaciones que requieren una interfaz gráfica.</li>
<li>Está alojado en la subred pública.</li>
</ul>
<h4 id="subred-privada"><strong>Subred Privada</strong></h4>
<ul>
<li><strong>Servidor de Aplicaciones y Formación (Fedora)</strong>:</li>
<li>Ejecuta un servidor web Apache con VirtualHosts para los departamentos de informática y formación.</li>
<li>En el departamento de informática aloja un sitio WordPress.</li>
<li>En el departamento de formación gestiona Moodle como plataforma educativa.</li>
<li>Implementa un servicio de webmail Roundcube, el cual se conecta con el servidor de correo alojado en la subred pública.</li>
<li><strong>IP privada:</strong> <code>10.0.1.229</code></li>
</ul>
<h3 id="configuracion-de-red">Configuración de Red</h3>
<p>Para garantizar la comunicación entre las máquinas, se han establecido las siguientes configuraciones:</p>
<ul>
<li><strong>Internet Gateway y NAT Gateway</strong>: Permiten el acceso a internet de las instancias en la subred pública y facilitan la conectividad de la subred privada a internet sin exponerla directamente.</li>
<li><strong>Tablas de Rutas</strong>: Se han definido rutas para la comunicación entre las subredes y la conexión externa.</li>
<li><strong>Configuración de DNS</strong>: Se ha implementado un sistema de resolución de nombres interno para gestionar los dominios de la infraestructura.</li>
</ul>
<p>Esta configuración servirá como base para la correcta implementación de los servicios de red en fases posteriores del proyecto.</p>
<h2 id="creacion-de-la-vpc-y-subredes-en-aws">Creación de la VPC y Subredes en AWS</h2>
<p>En esta documentación se detallará paso a paso el proceso de creación de la VPC y la configuración de las subredes en AWS.</p>
<h3 id="1-creacion-de-la-vpc">1. Creación de la VPC</h3>
<p>Accedemos a la consola de AWS y nos dirigimos al servicio <strong>VPC</strong>.</p>
<p>Hacemos clic en <strong>Crear VPC</strong> y completamos los siguientes datos:</p>
<p><img alt="" src="../img/vpc/vpc1.bmp" /></p>
<p>Guardamos la configuración y verificamos que la VPC ha sido creada correctamente.</p>
<p><img alt="" src="../img/vpc/vpc2.bmp" /></p>
<h3 id="2-creacion-de-subredes">2. Creación de Subredes</h3>
<h4 id="subred-publica_1"><strong>Subred Pública</strong></h4>
<p>Dentro del servicio de VPC, vamos a <strong>Subredes</strong> y hacemos clic en <strong>Crear subred</strong>.</p>
<p>Completamos los siguientes campos:</p>
<p><img alt="" src="../img/vpc/vpc3.bmp" /></p>
<p>Guardamos la configuración.</p>
<h4 id="subred-privada_1"><strong>Subred Privada</strong></h4>
<p>Repetimos el proceso anterior, pero con los siguientes datos:</p>
<p><img alt="" src="../img/vpc/vpc4.bmp" /></p>
<p>Guardamos la configuración y verificamos su creación.</p>
<p><img alt="" src="../img/vpc/vpc5.bmp" /></p>
<h3 id="3-configuracion-del-internet-gateway">3. Configuración del Internet Gateway</h3>
<p>Vamos a <strong>Gateways de Internet</strong> dentro de VPC y hacemos clic en <strong>Crear Gateway de Internet</strong>.</p>
<p>Le damos el nombre <code>SudoHeroes-IGW</code> y confirmamos la creación.</p>
<p><img alt="" src="../img/vpc/vpc6.bmp" /></p>
<p>Asociamos el <strong>Internet Gateway</strong> a la VPC <code>vpc-sudoheroes</code>.</p>
<p><img alt="" src="../img/vpc/vpc7.bmp" /></p>
<h3 id="4-configuracion-de-las-tablas-de-rutas">4. Configuración de las Tablas de Rutas</h3>
<h4 id="tabla-de-rutas-de-la-subred-publica"><strong>Tabla de rutas de la subred pública</strong></h4>
<p>En <strong>Tablas de Rutas</strong>, seleccionamos la tabla de rutas creada automáticamente para la VPC.</p>
<p><img alt="" src="../img/vpc/vpc8.bmp" /></p>
<p>Agregamos una nueva regla:</p>
<p><img alt="" src="../img/vpc/vpc9.bmp" /></p>
<p>Guardamos la configuración.</p>
<h4 id="tabla-de-rutas-de-la-subred-privada"><strong>Tabla de rutas de la subred privada</strong></h4>
<p>Creamos una nueva <strong>NAT Gateway</strong> en la subred pública con una IP elástica asignada.</p>
<p><img alt="" src="../img/vpc/vpc10.bmp" /></p>
<p>Creamos una nueva tabla de rutas y la asociamos a la subred privada.</p>
<p><img alt="" src="../img/vpc/vpc11.bmp" /></p>
<p>Agregamos una nueva regla:</p>
<p><img alt="" src="../img/vpc/vpc12.jpg" /></p>
<p>Guardamos la configuración.</p>
<p><img alt="" src="../img/vpc/vpc14.jpg" /></p>
<p>Esta documentación describe detalladamente el proceso de creación y configuración de la VPC y sus subredes en AWS.</p>
<h2 id="creacion-de-instancias-en-las-subredes-de-aws">Creación de Instancias en las Subredes de AWS</h2>
<p>En esta documentación se describe paso a paso el proceso de creación y configuración de las instancias dentro de las subredes pública y privada de la VPC en AWS.</p>
<h3 id="1-creacion-de-la-instancia-fedora-servidor-dns-primario-en-la-subred-publica">1. Creación de la Instancia Fedora (Servidor DNS Primario) en la Subred Pública</h3>
<p>Accedemos a la consola de AWS y vamos al servicio <strong>EC2</strong>.</p>
<p>Hacemos clic en <strong>Lanzar Instancia</strong> y configuramos lo siguiente:</p>
<p><img alt="" src="../img/instas/instas1.bmp" /></p>
<p><img alt="" src="../img/instas/instas2.bmp" /></p>
<p>Generamos o usamos un par de claves para acceder a la instancia.</p>
<p><img alt="" src="../img/instas/instas4.bmp" /></p>
<p>Le asignamos una IP elástica.</p>
<p><img alt="" src="../img/instas/instas14.bmp" /></p>
<p>Comprobamos su conectividad.</p>
<p><img alt="" src="../img/instas/instas13.jpg" /></p>
<h3 id="2-creacion-de-la-instancia-ubuntu-servidor-web-y-correo-en-la-subred-publica">2. Creación de la Instancia Ubuntu (Servidor Web y Correo) en la Subred Pública</h3>
<p>Repetimos el proceso anterior con las siguientes configuraciones:</p>
<p><img alt="" src="../img/instas/instas3.bmp" /></p>
<p><img alt="" src="../img/instas/instas5.bmp" /></p>
<p>Le asignamos una dirección IP elástica.</p>
<p><img alt="" src="../img/instas/instas15.bmp" /></p>
<p>Comprobamos su conectividad.</p>
<p><img alt="" src="../img/instas/instas12.jpg" /></p>
<h3 id="3-creacion-de-la-instancia-fedora-servidor-de-aplicaciones-y-formacion-en-la-subred-privada">3. Creación de la Instancia Fedora (Servidor de Aplicaciones y Formación) en la Subred Privada</h3>
<p>Lanzamos una nueva instancia con las siguientes configuraciones:</p>
<p><img alt="" src="../img/instas/instas6.bmp" /></p>
<p><img alt="" src="../img/instas/instas7.bmp" /></p>
<p>Para permitir la conexión SSH desde la subred pública, configuramos una conexión a través de una máquina puente.</p>
<p><img alt="" src="../img/instas/instas8.bmp" /></p>
<p>Ahora nos podremos conectar a Fedora (interna) mediante SSH con Ubuntu y Fedora (externa), así como podemos acceder a sus servicios gráficos con la máquina Windows que vamos a crear a continuación.</p>
<p><img alt="" src="../img/instas/instas9.bmp" /></p>
<h3 id="4-creacion-de-la-instancia-windows-server-2025-cliente-en-la-subred-publica">4. Creación de la Instancia Windows Server 2025 (Cliente) en la Subred Pública</h3>
<p>Creamos una nueva instancia con la siguiente configuración:</p>
<ul>
<li><strong>Nombre:</strong> <code>Cliente-Windows</code></li>
<li><strong>Sistema Operativo:</strong> Windows Server 2025</li>
<li><strong>Subred:</strong> <code>Subred-Publica</code></li>
<li><strong>Habilitar IP pública:</strong> Sí</li>
<li><strong>Grupo de seguridad:</strong> Permitimos RDP (3389).</li>
</ul>
<p><img alt="" src="../img/instas/instas10.jpg" /></p>
<p>Configuramos credenciales de acceso y verificamos conectividad.</p>
<p><img alt="" src="../img/instas/instas11.jpg" /></p>
<h3 id="5-grupos-de-seguridad">5. Grupos de seguridad</h3>
<p>Configuraremos los grupos de seguridad acorde con los servicios de los que precisaremos durante el reto.</p>
<p><strong>Subred Pública</strong></p>
<p><img alt="" src="../img/instas/instas16.jpg" /></p>
<p><strong>Subred Privada</strong></p>
<p><img alt="" src="../img/instas/instas17.jpg" /></p>
<p>Esta configuración garantiza que cada instancia esté correctamente desplegada y conectada dentro de la infraestructura de AWS.</p></div>
        
        
    </div>

    
      <footer class="col-md-12 text-center">
          
          
            <hr>
            <p>
            <small>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</small>
            </p>
          

          
          
      </footer>
    
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../js/bootstrap-3.0.3.min.js"></script>

    
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.18.0/build/highlight.min.js"></script>
        
    <script>hljs.initHighlightingOnLoad();</script>
    

    <script>var base_url = ".."</script>
    
    <script src="../js/base.js"></script>
    <script src="../search/main.js"></script>

    <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                </button>
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>
    </body>

</html>
